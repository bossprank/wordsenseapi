{% extends "base_adminlte.html" %}

{% block title %}View Generated Word Lists{% endblock %}

{% block content %}
<div class="container-fluid">
    <div class="row mb-2">
        <div class="col-sm-6">
            <h1>Generated Vocabulary Lists</h1>
        </div>
        <div class="col-sm-6">
            <a href="{{ request.url_for('route_generate_new_list_page') }}" class="btn btn-primary float-sm-right">
                <i class="fas fa-plus"></i> Add New Generation Task
            </a>
        </div>
    </div>

    <div class="card">
        <div class="card-header">
            <h3 class="card-title">Filters</h3>
        </div>
        <div class="card-body">
            <form id="filter-form" class="form-inline">
                <div class="form-group mr-2 mb-2">
                    <label for="filter-language" class="mr-1">Language:</label>
                    <select id="filter-language" name="language" class="form-control form-control-sm">
                        <option value="">All</option>
                        {# Options populated by JS #}
                    </select>
                </div>
                <div class="form-group mr-2 mb-2">
                    <label for="filter-cefr" class="mr-1">CEFR:</label>
                    <select id="filter-cefr" name="cefr_level" class="form-control form-control-sm">
                        <option value="">All</option>
                         {# Options populated by JS #}
                    </select>
                </div>
                 <div class="form-group mr-2 mb-2">
                    <label for="filter-category" class="mr-1">Category:</label>
                    <select id="filter-category" name="list_category_id" class="form-control form-control-sm">
                        <option value="">All</option>
                         {# Options populated by JS #}
                    </select>
                </div>
                 <div class="form-group mr-2 mb-2">
                    <label for="filter-status" class="mr-1">Status:</label>
                    <select id="filter-status" name="status" class="form-control form-control-sm">
                        <option value="">All</option>
                         {# Options populated by JS #}
                    </select>
                </div>
                <button type="submit" class="btn btn-sm btn-secondary mb-2 mr-1">Apply Filters</button>
                <button type="button" id="clear-filters-btn" class="btn btn-sm btn-outline-secondary mb-2">Clear Filters</button>
            </form>
        </div>
    </div>

    <div class="card">
        <div class="card-header">
            <h3 class="card-title">Generated Lists</h3>
             {# TODO: Add sorting controls? #}
        </div>
        <!-- /.card-header -->
        <div class="card-body p-0">
            <table class="table table-striped table-sm">
                <thead>
                    <tr>
                        <th style="width: 15%">Readable ID</th>
                        <th style="width: 8%">Language</th>
                        <th style="width: 8%">CEFR</th>
                        <th style="width: 20%">Category</th>
                        <th style="width: 15%">Status</th>
                        <th style="width: 8%">Words</th>
                        <th style="width: 12%">Date Created</th>
                        <th style="width: 14%">Actions</th>
                    </tr>
                </thead>
                <tbody id="lists-table-body">
                    {# Rows populated by JS #}
                    <tr><td colspan="8" class="text-center">Loading lists...</td></tr>
                </tbody>
            </table>
        </div>
        <!-- /.card-body -->
        <div class="card-footer clearfix">
             {# TODO: Add pagination controls #}
             <div id="pagination-controls"></div>
        </div>
    </div>
    <!-- /.card -->

</div>

{# Include necessary JS file #}
<script src="{{ request.url_for('static', path='view_generated_word_lists.js') }}"></script> 
{% endblock %}
